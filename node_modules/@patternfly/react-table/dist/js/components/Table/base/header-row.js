"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _evaluateFormatters = _interopRequireDefault(require("./evaluate-formatters"));

var _evaluateTransforms = _interopRequireDefault(require("./evaluate-transforms"));

var _mergeProps = _interopRequireDefault(require("./merge-props"));

var _types = require("./types");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var HeaderRow = function HeaderRow(_ref) {
  var rowData = _ref.rowData,
      rowIndex = _ref.rowIndex,
      renderers = _ref.renderers,
      onRow = _ref.onRow;
  return _react["default"].createElement(renderers.row, onRow(rowData, {
    rowIndex: rowIndex
  }), rowData.map(function (column, columnIndex) {
    var property = column.property,
        _column$header = column.header,
        header = _column$header === void 0 ? {} : _column$header,
        _column$props = column.props,
        props = _column$props === void 0 ? {} : _column$props;
    var evaluatedProperty = property || header && header.property;
    var label = header.label,
        _header$transforms = header.transforms,
        transforms = _header$transforms === void 0 ? [] : _header$transforms,
        _header$formatters = header.formatters,
        formatters = _header$formatters === void 0 ? [] : _header$formatters;
    var extraParameters = {
      columnIndex: columnIndex,
      property: evaluatedProperty,
      column: column
    };
    var transformedProps = (0, _evaluateTransforms["default"])(transforms, label, extraParameters);

    if (!transformedProps) {
      console.warn('Table.Header - Failed to receive a transformed result'); // eslint-disable-line max-len, no-console
    }

    return _react["default"].createElement(renderers.cell, _objectSpread({
      key: "".concat(columnIndex, "-header")
    }, (0, _mergeProps["default"])(props, header && header.props, transformedProps)), transformedProps.children || (0, _evaluateFormatters["default"])(formatters)(label, extraParameters));
  }));
};

HeaderRow.defaultProps = _types.tableHeaderRowDefaults;
HeaderRow.propTypes = _types.tableHeaderRowTypes;
var _default = HeaderRow;
exports["default"] = _default;
//# sourceMappingURL=header-row.js.map